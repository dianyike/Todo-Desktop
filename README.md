# 📋 桌面代辦清單應用（ToDo List Desktop App）

![主畫面展示](./images/homepage.png)

一款使用 Python + Tkinter 打造的跨平台桌面代辦清單工具，提供任務新增、分類、標記完成、刪除與提醒功能，支援本地儲存與自動載入，介面簡單直覺，適合日常任務管理。

**🆕 v1.2.0 新功能預覽：**

- 🌙 **深色模式**：護眼深色主題，適合長時間使用
- 🔍 **任務搜尋**：即時搜尋過濾，快速定位目標任務
- 📱 **界面優化**：改進提醒通知，修復按鈕顯示問題

---

## 🚀 功能介紹

- ✅ **新增任務**：透過輸入框輸入任務內容並加入清單
- 📋 **任務清單**：即時顯示所有任務，可滾動檢視
- 🔍 **搜尋過濾**：即時搜尋任務內容和分類，支援模糊比對
- 🗑️ **刪除任務**：勾選任務後點擊刪除即可移除
- ✔️ **標記完成**：勾選任務即視為完成，自動添加刪除線與打勾
- 📂 **分類功能**：可為任務指定分類（如工作、生活）
- ⏰ **提醒功能**：可設定提醒時間，到點彈出提示
- 🌙 **深色模式**：支援深色/淺色主題切換，保護視力
- 💾 **自動儲存**：關閉程式時儲存任務，啟動時自動載入

---

## 🛠 技術棧

| 分類     | 技術          | 說明                              |
| -------- | ------------- | --------------------------------- |
| 語言     | Python 3.12.3 | 主程式語言                        |
| GUI      | Tkinter       | 內建 GUI 套件，支援深色模式       |
| 儲存     | JSON          | 本地資料儲存格式                  |
| 時間處理 | `datetime`    | 任務提醒時間控制                  |
| 搜尋     | 模糊比對      | 即時任務內容和分類搜尋            |
| 打包工具 | PyInstaller   | 產出 Windows/macOS/Linux 可執行檔 |

---

## 📁 專案結構

```
Todo-Desktop
├─ build_exe.py #打包成exe
├─ data
│  └─ tasks.json # 任務資料儲存檔（JSON 格式）
├─ images
│  └─ icon.ico #icon圖片
├─ LICENSE #MIT
├─ main.py
├─ models.py # 任務資料模型
├─ PACKAGING_NOTES.md #可執行檔的詳細說明和注意事項
├─ README.md
├─ reminder.py # 提醒時間處理模組
├─ requirements.txt
├─ storage.py # 任務儲存與載入邏輯
└─ ui.py # Tkinter UI 建構模組
```

---

## 🔧 技術實現細節

### 任務資料模型 (models.py)

- **Task 類別**：核心任務物件，包含 id、title、category、completed、remind_at 等屬性
- **TaskCategories 類別**：任務分類常數定義，包含一般、工作、生活、學習、健康五種分類
- **資料轉換方法**：to_dict() 和 from_dict() 用於 JSON 序列化和反序列化
- **狀態管理**：mark_completed() 和 mark_uncompleted() 方法處理任務完成狀態

### 資料儲存模組 (storage.py)

- **TaskStorage 類別**：負責 JSON 檔案的讀寫操作
- **TaskManager 類別**：整合任務操作與儲存的高級介面
- **自動備份功能**：支援資料檔案備份，避免資料遺失
- **錯誤處理**：完善的異常處理機制，確保資料安全

### 提醒功能模組 (reminder.py)

- **ReminderManager 類別**：背景執行緒監控提醒時間
- **彈窗通知系統**：使用 Tkinter 實現提醒彈窗，支援自動置頂顯示
- **時間解析工具**：支援多種時間格式的解析 (HH:MM, I:MM PM 等)
- **快速提醒選項**：提供 6 種常用的快速提醒時間設定
  - 5 分鐘後、15 分鐘後、30 分鐘後、1 小時後
  - 下午 5 點（智能判斷當天或隔天）、明天上午 9 點
- **提醒狀態監控**：30 秒週期檢查，確保提醒及時觸發
- **清除提醒功能**：支援完全清除任務提醒，同時移除顯示的時間資訊

### 用戶介面模組 (ui.py) - v1.2.0 大幅改進

- **TodoApp 主類別**：整合所有功能的主要應用程式類別
- **🌙 深色模式系統**：
  - **主題切換**：右上角「深色模式」標籤和 🌙 圖示，一鍵切換
  - **完整樣式覆蓋**：支援所有 UI 組件的深色/淺色主題
  - **智能配色**：深色背景配白色文字，淺色背景配黑色文字
  - **即時切換**：無需重啟，即時應用主題變更
- **🔍 搜尋功能系統**：
  - **即時搜尋**：輸入即時過濾，無需按 Enter
  - **模糊比對**：支援部分關鍵字匹配（如搜尋「買」可找到「買衣服」）
  - **多欄位搜尋**：同時搜尋任務標題和分類
  - **清除搜尋**：一鍵清除搜尋條件，恢復全部任務顯示
  - **搜尋狀態提示**：狀態列顯示搜尋結果數量
- **ReminderDialog 對話框** - 大幅優化：
  - **增大尺寸**：從 400x300 提升至 450x350，確保所有元素清晰顯示
  - **優化佈局**：增加內邊距和元素間距，提升視覺舒適度
  - **按鈕改進**：確認按鈕寬度增加，防止被壓縮，設定預設焦點
  - **鍵盤支援**：支援 Enter 確認、Escape 取消的快捷鍵操作
  - **兩行三欄設計**：快速選項採用 Grid 佈局，最多顯示 6 個選項
- **📱 提醒通知優化**：
  - **增大通知視窗**：從 300x150 提升至 320x180
  - **改進按鈕佈局**：確認按鈕更大更明顯，防止被壓縮
  - **焦點管理**：自動聚焦確認按鈕，支援 Enter 鍵確認
  - **視覺優化**：增加內邊距，使用 ttk 組件統一風格
- **響應式佈局**：使用 ttk 組件實現現代化介面
- **事件處理**：完整的滑鼠、鍵盤事件響應
- **搜尋過濾邏輯**：完善的任務過濾和顯示切換機制

### 主程式入口 (main.py) - v1.2.0 更新

- **版本資訊更新**：升級至 v1.2.0，更新功能說明
- **增強幫助資訊**：詳細的新功能使用說明
- **改進的測試功能**：更全面的模組測試和錯誤診斷
- **友好的啟動提示**：清晰的功能提示和使用建議
- **依賴檢查**：啟動前檢查必要模組是否安裝
- **命令列介面**：支援 --help 和 --test 參數
- **錯誤處理**：全面的異常捕獲和友好的錯誤提示
- **優雅關閉**：確保應用程式正常關閉時保存資料

---

## ▶️ 使用方法

### 安裝與啟動

```bash
# 確保安裝 Python 3.7+
python --version

# 下載或克隆專案
git clone <repository-url>
cd Todo-Desktop

# 直接運行
python main.py

# 檢視幫助
python main.py --help

# 運行測試
python main.py --test
```

### 基本操作

1. **新增任務**：在輸入框輸入任務內容，選擇分類，按 Enter 或點擊「新增」
2. **搜尋任務**：在搜尋框輸入關鍵字，即時過濾顯示相關任務
3. **切換主題**：點擊右上角「深色模式:🌙」切換深色/淺色主題
4. **標記完成**：雙擊任務項目或選中後點擊「✓ 標記完成」
5. **設定提醒**：選中任務後點擊「⏰ 設定提醒」
   - **快速選項**：兩行三欄佈局，提供 6 種常用時間
   - **自定義時間**：手動設定具體日期和時間
   - **清除提醒**：點擊「清除提醒」移除所有提醒設定
6. **刪除任務**：選中任務後點擊「🗑️ 刪除任務」
7. **清理已完成**：點擊「🧹 清理已完成」移除所有已完成的任務
8. **檢視統計**：點擊「📊 統計資訊」查看任務完成情況

---

## 🎯 核心功能說明

### 任務管理

- 支援任務的增刪改查
- 五種預設分類：一般、工作、生活、學習、健康
- 任務狀態管理（待完成/已完成）
- 批量操作支援

### 🔍 搜尋系統 (v1.2.0 新增)

- **即時搜尋**：輸入關鍵字立即過濾任務，無延遲
- **模糊比對**：支援部分匹配，如搜尋「工作」可找到「工作報告」「工作計劃」
- **多欄位搜尋**：同時搜尋任務標題和分類內容
- **大小寫忽略**：不區分大小寫，提升搜尋便利性
- **一鍵清除**：快速清除搜尋條件，回到完整任務列表
- **狀態提示**：實時顯示搜尋結果數量

### 🌙 深色模式 (v1.2.0 新增)

- **一鍵切換**：右上角標籤+圖示，快速切換主題
- **護眼設計**：深色背景減少眼部疲勞，適合夜間使用
- **完整支援**：所有 UI 組件都支援深色模式
- **即時生效**：無需重啟應用程式，立即切換主題
- **智能配色**：確保在任何主題下都有良好的可讀性

### 提醒系統 (v1.2.0 改進)

- **優化界面**：提醒設定對話框尺寸增大，元素佈局更清晰
- **按鈕改進**：確認按鈕不再被壓縮，更容易點擊
- **鍵盤支援**：支援 Enter 確認、Escape 取消
- **智能時間計算**：快速選項會自動避開已過時間
- **穩定通知**：改進的通知視窗，確保按鈕清晰可見
- **置頂彈窗通知**：自動置頂顯示，5 秒後自動關閉

### 資料持久化

- JSON 格式儲存，可讀性強
- 自動建立資料目錄
- 備份功能防止資料遺失
- 啟動時自動載入歷史任務

---

## 📝 更新記錄

### v1.2.0 (2025-06-04) 🎉 重大更新

- 🌙 **深色模式功能**：新增完整的深色/淺色主題切換系統
  - 右上角「深色模式:🌙」一鍵切換
  - 所有 UI 組件完整支援深色模式
  - 即時切換，無需重啟應用程式
- 🔍 **任務搜尋功能**：全新的即時搜尋過濾系統
  - 在 UI 上方新增搜尋框，對齊新增任務區域
  - 支援即時搜尋，輸入即過濾
  - 模糊比對：搜尋「買」可找到「買衣服」「買電腦」等
  - 同時搜尋任務標題和分類
  - 一鍵清除搜尋條件
- 📱 **界面優化改進**：大幅提升用戶體驗
  - 修復提醒通知對話框確認按鈕被壓縮問題
  - 提醒設定對話框尺寸從 400x300 增加至 450x350
  - 提醒通知視窗尺寸從 300x150 增加至 320x180
  - 增加內邊距和元素間距，提升視覺舒適度
  - 確認按鈕增大，設定預設焦點，支援 Enter 快捷鍵
- 🔧 **功能完善**：
  - 應用程式標題更新為「桌面代辦清單 v1.2.0」
  - 視窗尺寸從 600x500 增加至 650x600，適應新功能
  - 完善搜尋狀態下的任務操作邏輯
  - 改進統計資訊視窗，使用專用視窗替代彈窗
  - 優化主程式啟動提示，新增功能使用建議

### v1.1 (2025-06-02)

- 🔧 **UI 優化**：提醒對話框改為兩行三欄佈局，更好地展示快速選項
- 🔄 **按鈕調整**：交換確認和取消按鈕位置，符合用戶習慣
- ⏰ **提醒功能修復**：完善提醒回調邏輯，確保通知正常顯示
- 🧹 **清除功能改進**：清除提醒時會同步移除任務列表中的時間顯示
- 🕐 **時間計算優化**：快速選項智能判斷當前時間，避免過期選項

### v1.0 (2025-06-02)

- 🎉 **首次發布**：基礎任務管理功能
- ⏰ **提醒系統**：基本提醒功能實現
- 💾 **資料存儲**：JSON 本地存儲
- 🎨 **用戶界面**：Tkinter 圖形界面

---

## 📝 授權條款

本專案採用 [MIT License](./LICENSE) 授權。您可以自由使用、修改與散佈本專案，僅需保留原始授權條款與著作權宣告。

---

## 🤝 貢獻指南

歡迎任何形式的貢獻！

1. Fork 本倉庫
2. 建立新分支 `feat/你的功能名稱`
3. 提交修改並發起 Pull Request
4. 請遵守程式碼風格與命名規範，並附上必要註解與檔案

---

## 📬 聯絡方式

若有問題、回饋、商業合作或開發建議，請透過以下方式聯絡我：

- GitHub Issues: [開啟議題](https://github.com/dianyike/Todo-Desktop/issues)
- Email: dianyike1013@gmail.com

---

感謝您的使用與支援！ 

📄 本專案 README 內容由 ChatGPT 協助生成，根據實際功能與原始程式碼進行整理與撰寫，並經作者審閱修正。

🧠 部分功能模組使用 [Cursor](https://www.cursor.com/cn) 編輯器進行撰寫與調整，其 AI 輔助功能有效提升開發效率與程式碼品質。

📌 本專案目前版本為 v1.2.0，新增深色模式和搜尋功能，歡迎使用與回饋建議！
